
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2015-08-31
 Rendered using Reflow Maven Skin 1.1.1 (http://andriusvelykis.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>Getting Started | aloha</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />
 
		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet" />
		<link href=".//css/docs.css" rel="stylesheet" />
		<link href=".//css/reflow-skin.css" rel="stylesheet" />


		<link href=".//css/lightbox.css" rel="stylesheet" />

		<link href=".//css/site.css" rel="stylesheet" />
		<link href=".//css/print.css" rel="stylesheet" media="print" />

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->


		
<link rel="stylesheet" href=".//css/highlight/github.css"/>
	</head>

	<body class="page-getting_started1 project-aloha" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="index.html"><span class="color-highlight">Aloha</span></a>
					<div class="nav-collapse collapse" id="top-nav-collapse">
						<ul class="nav pull-right">
							<li ><a href="http://github.com/eharmony/aloha/" title="Code" class="externalLink">Code</a></li>
							<li ><a href="model_formats.html" title="Model Formats">Model Formats</a></li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Dataset Examples <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="eg/dataset/csv.html" title="CSV">CSV</a></li>
									<li ><a href="eg/dataset/vw.html" title="VW Unlabeled">VW Unlabeled</a></li>
									<li ><a href="eg/dataset/labeled_vw.html" title="VW Labeled">VW Labeled</a></li>
									<li ><a href="eg/dataset/cb_vw.html" title="VW Bandit">VW Bandit</a></li>
									<li ><a href="eg/dataset/libsvm.html" title="LIBSVM Unlabeled">LIBSVM Unlabeled</a></li>
									<li ><a href="eg/dataset/labeled_libsvm.html" title="LIBSVM Labeled">LIBSVM Labeled</a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
		<hr class="toc-separator" />
		<div id="toc-bar" class="navbar" data-spy="affix" data-offset-top="40">
			<div class="navbar-inner">
				<div id="toc-scroll-target" class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#toc-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<div class="nav-collapse collapse" id="toc-nav-collapse">
						<ul id="toc" class="nav">
						<li class="toplevel"><a href="#getting_started" title="Getting Started">Getting Started</a></li>
						<li class="dropdown">
							<a href="#Build_Prerequisites" title="Build Prerequisites" class="dropdown-toggle" role="button" data-toggle="dropdown" data-target="#">Build Prerequisites <b class="caret"></b></a>
							<ul class="dropdown-menu" role="menu">
								<!-- Repeat the item, otherwise it is not clickable as the dropdown root -->
								<li><a href="#Build_Prerequisites" title="Build Prerequisites">Build Prerequisites</a></li>
								<li class="divider"></li>
								<li><a href="#Installing_Maven_on_a_Mac" title="Installing Maven on a Mac">Installing Maven on a Mac</a></li>
								<li><a href="#Installing_Homebrew_on_a_Mac" title="Installing Homebrew on a Mac">Installing Homebrew on a Mac</a></li>
								<li><a href="#Installing_Maven_Manually" title="Installing Maven Manually">Installing Maven Manually</a></li>
								<li class="dropdown-submenu">
									<a href="#Optionally_Install_and_Run_Zinc" title="Optionally Install and Run Zinc">Optionally Install and Run Zinc</a>
									<ul class="dropdown-menu" role="menu">
								<li><a href="#On_a_Mac_via_Homebrew" title="On a Mac via Homebrew">On a Mac via Homebrew</a></li>
								<li><a href="#Starting_Zinc" title="Starting Zinc">Starting Zinc</a></li>

									</ul>
								</li>

							</ul>
						</li>
						<li class="toplevel"><a href="#Build_Aloha_from_Source" title="Build Aloha from Source">Build Aloha from Source</a></li>
						<li class="toplevel"><a href="#Create_a_VW_Dataset" title="Create a VW Dataset">Create a VW Dataset</a></li>
						<li class="dropdown">
							<a href="#Create_a_VW_Model" title="Create a VW Model" class="dropdown-toggle" role="button" data-toggle="dropdown" data-target="#">Create a VW Model <b class="caret"></b></a>
							<ul class="dropdown-menu" role="menu">
								<!-- Repeat the item, otherwise it is not clickable as the dropdown root -->
								<li><a href="#Create_a_VW_Model" title="Create a VW Model">Create a VW Model</a></li>
								<li class="divider"></li>
								<li><a href="#Verifying_the_Model" title="Verifying the Model">Verifying the Model</a></li>

							</ul>
						</li>
						<li class="toplevel"><a href="#Creating_an_Aloha_Model" title="Creating an Aloha Model">Creating an Aloha Model</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span12">
			<div class="body-content">
<div class="page-header">
 <h1 id="getting_started">Getting Started</h1>
</div> 
<div class="section"> 
 <h2 id="Build_Prerequisites">Build Prerequisites</h2> 
 <p>Aloha uses <a class="externalLink" href="http://maven.apache.org">Apache Maven</a> for building.</p> 
 <div class="section"> 
  <h3 id="Installing_Maven_on_a_Mac">Installing Maven on a <i>Mac</i></h3> 
  <p>The preferred way to install Maven on a <i>Mac</i> is by using the <a class="externalLink" href="http://http://brew.sh">Homebrew</a> package manager. If you have Homebrew installed, just install via:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>brew install maven
</pre> 
   </div> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="Installing_Homebrew_on_a_Mac">Installing Homebrew on a <i>Mac</i></h3> 
  <p>If you don’t have Homebrew installed, follow the instructions at <a class="externalLink" href="http://brew.sh">http://brew.sh</a>.</p> 
 </div> 
 <div class="section"> 
  <h3 id="Installing_Maven_Manually">Installing Maven Manually</h3> 
  <p><a class="externalLink" href="http://maven.apache.org/download.cgi">Download it here</a>. Aloha has be tested on <i>2.2.1</i> and <i>3.x.x</i>.</p> 
 </div> 
 <div class="section"> 
  <h3 id="Optionally_Install_and_Run_Zinc">Optionally Install and Run Zinc</h3> 
  <p>While not necessary, <a class="externalLink" href="https://www.typesafe.com/blog/zinc-and-incremental-compilation">Zinc</a> with Maven 3 can provide speed ups when building Aloha. Zinc is an <a class="externalLink" href="http://scala-lang.org">Scala</a> incremental compiler produced by <a class="externalLink" href="https://www.typesafe.com">Typesafe</a>, the company providing commercial support for Scala. </p> 
  <div class="section"> 
   <h4 id="On_a_Mac_via_Homebrew">On a <i>Mac</i> via Homebrew</h4> 
   <div class="source"> 
    <div class="source"> 
     <pre>brew install zinc
</pre> 
    </div> 
   </div> 
   <p>Or to manually install go to Zinc’s <a class="externalLink" href="https://github.com/typesafehub/zinc">github page</a> and look for the ** <i>latest stable version</i> ** link.</p> 
  </div> 
  <div class="section"> 
   <h4 id="Starting_Zinc">Starting Zinc</h4> 
   <div class="source"> 
    <div class="source"> 
     <pre>zinc -start -nailed
</pre> 
    </div> 
   </div> 
  </div> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Build_Aloha_from_Source">Build Aloha from Source</h2> 
 <div class="source"> 
  <div class="source"> 
   <pre>git clone git@github.com:eHarmony/aloha.git
cd aloha
mvn clean install
</pre> 
  </div> 
 </div> 
 <p>If you have Zinc installed and running, and are using Maven 3, change:</p> 
 <div class="source"> 
  <div class="source"> 
   <pre>mvn clean install
</pre> 
  </div> 
 </div> 
 <p><i>to</i> </p> 
 <div class="source"> 
  <div class="source"> 
   <pre>mvn -Dcompile=incremental clean install
</pre> 
  </div> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Create_a_VW_Dataset">Create a VW Dataset</h2> 
 <p><i><a class="externalLink" href="http://www.eharmony.com">eHarmony</a></i> uses <a class="externalLink" href="https://github.com/JohnLangford/vowpal_wabbit/wiki">Vowpal Wabbit</a> for many of its predictive tasks so Aloha provides support for VW from creating datasets, to creating native VW models on the <a class="externalLink" href="https://en.wikipedia.org/wiki/Java_virtual_machine">JVM</a>.</p> 
 <p><span class="label">bash script</span></p> 
 <div class="source"> 
  <div class="source"> 
   <pre>aloha-cli/bin/aloha-cli                                  \
  -cp $(find $PWD/aloha-cli -name &quot;*.jar&quot; | grep dep):\
$(find $PWD/aloha-core -name &quot;*.jar&quot; | grep test)        \
  --dataset                                              \
  -s $(find $PWD/aloha-core/src -name 'proto_spec2.js')  \
  -p com.eharmony.aloha.test.proto.Testing.UserProto     \
  -i $(find $PWD/aloha-core/src -name 'fizz_buzzs.proto')\
  --vw_labeled /tmp/dataset.vw
</pre> 
  </div> 
 </div> 
 <p><span class="label label-success">/tmp/dataset.vw</span></p> 
 <div> 
  <pre>
1 1| name=Alan gender=MALE bmi:23 |photos num_photos:2 avg_photo_height
1 1| name=Kate gender=FEMALE bmi=UNK |photos num_photos avg_photo_height:3
</pre> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Create_a_VW_Model">Create a VW Model</h2> 
 <p>Given our dataset in <tt>/tmp/dataset.vw</tt>, we can create a VW model with the normal procedure. For instance, to create a simple logistic regression model with all default parameters and one pass over the data, do: </p> 
 <div class="source"> 
  <div class="source"> 
   <pre>cat /tmp/dataset.vw                          \
| vw --link logistic                         \
     --loss_function logistic                \
     --readable_model /tmp/model_readable.vw \
     -f /tmp/model.vw
</pre> 
  </div> 
 </div> 
 <p>This creates binary model <tt>/tmp/model.vw</tt> and a human-readable model <tt>/tmp/model_readable.vw</tt>.</p> 
 <div class="section"> 
  <h3 id="Verifying_the_Model">Verifying the Model</h3> 
  <div class="source"> 
   <div class="source"> 
    <pre>cat /tmp/dataset.vw | vw --loss_function logistic -i /tmp/model.vw -t 
</pre> 
   </div> 
  </div> 
  <p><span class="label label-success">output</span></p> 
  <div> 
   <pre>
only testing
Num weight bits = 18
learning rate = 10
initial_t = 1
power_t = 0.5
using no cache
Reading datafile = 
num sources = 1
average    since         example     example  current  current  current
loss       last          counter      weight    label  predict features
0.310707   0.310707          1      1.0     1.0000   0.7329        6
0.296281   0.281855          2      2.0     1.0000   0.7544        6

finished run
number of examples per pass = 2
passes used = 1
weighted example sum = 2
weighted label sum = 2
average loss = 0.296281
best constant = 1
best constant's loss = 0.313262
total feature number = 12
</pre> 
  </div> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Creating_an_Aloha_Model">Creating an Aloha Model</h2> 
 <p>To create an Aloha model, we need two things. The first is the specification file used to create the dataset. The second is the binary VW model. To build the model, we just use the CLI again.</p> 
 <div class="source"> 
  <div class="source"> 
   <pre>aloha-cli/bin/aloha-cli                                       \
  -cp $(find $PWD/aloha-cli -name &quot;*.jar&quot; | grep dep)         \
  --vw                                                        \
  --spec $(find $PWD/aloha-core/src -name 'proto_spec2.json') \
  --model file://tmp/model.vw                                 \
  --name &quot;test-model&quot;                                         \
  --id 101
</pre> 
  </div> 
 </div> 
 <p>This prints to <i>STDOUT</i> JSON similar to the following. The following has rearranged key-value pairs and added whitespace. Under the <a class="externalLink" href="http://json.org">JSON specification</a>, this is equivalent to the JSON printed by the above command.</p> 
 <p><span class="label label-success">output</span></p> 
 <div class="source"> 
  <div class="source"> 
   <pre>{
  &quot;modelType&quot;:&quot;VwJNI&quot;,
  &quot;modelId&quot;: { &quot;id&quot;: 101, &quot;name&quot;: &quot;test-model&quot; },
  &quot;namespaces&quot;: {
    &quot;photos&quot;: [ &quot;num_photos&quot;, &quot;avg_photo_height&quot; ] 
  },
  &quot;features&quot;: {
    &quot;name&quot;:             { &quot;spec&quot;: &quot;ind(${name})&quot;,   &quot;defVal&quot;: [ [&quot;=UNK&quot;,1.0] ] },
    &quot;gender&quot;:           { &quot;spec&quot;: &quot;ind(${gender})&quot;, &quot;defVal&quot;: [ [&quot;=UNK&quot;,1.0] ] },
    &quot;bmi&quot;:              { &quot;spec&quot;: &quot;${bmi}&quot;,         &quot;defVal&quot;: [ [&quot;=UNK&quot;,1.0] ] },
    &quot;num_photos&quot;:       &quot;${photos}.size&quot;,
    &quot;avg_photo_height&quot;: &quot;(${photos.height}.flatten : Seq[Int]).sum / ${photos}.size&quot;
  },
  &quot;vw&quot;:{
    &quot;model&quot;: &quot;BwAAADcuMTAuMABtAABIwgAASEIS [More base64-encoded data ...]&quot;
  }
}
</pre> 
  </div> 
 </div> 
</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Main</li>
						<li >
							<a href="./" title="Home">Home</a>
						</li>
						<li >
							<a href="http://github.com/eharmony/aloha/" title="Code" class="externalLink">Code</a>
						</li>
						<li >
							<a href="release-notes.html" title="Release notes">Release notes</a>
						</li>
						<li class="nav-header">Maven Documentation</li>
						<li >
							<a href="project-info.html" title="Project Information">Project Information <i class="icon-chevron-right"></i></a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">API Docs</li>
						<li >
							<a href="aloha-core/scaladocs/index.html" title="aloha-core">aloha-core</a>
						</li>
						<li >
							<a href="aloha-vw-jni/scaladocs/index.html" title="aloha-vw-jni">aloha-vw-jni</a>
						</li>
						<li >
							<a href="aloha-cli/scaladocs/index.html" title="aloha-cli">aloha-cli</a>
						</li>
						<li class="nav-header">Contribute</li>
						<li >
							<a href="http://github.com/eharmony/aloha/issues/" title="Issues" class="externalLink">Issues</a>
						</li>
						<li >
							<a href="http://github.com/eharmony/aloha/" title="Fork on GitHub" class="externalLink">Fork on GitHub</a>
						</li>
						<li >
							<a href="contribute.html" title="Contribute">Contribute</a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Dataset Examples</li>
						<li >
							<a href="eg/dataset/csv.html" title="CSV">CSV</a>
						</li>
						<li >
							<a href="eg/dataset/vw.html" title="VW Unlabeled">VW Unlabeled</a>
						</li>
						<li >
							<a href="eg/dataset/labeled_vw.html" title="VW Labeled">VW Labeled</a>
						</li>
						<li >
							<a href="eg/dataset/cb_vw.html" title="VW Bandit">VW Bandit</a>
						</li>
						<li >
							<a href="eg/dataset/libsvm.html" title="LIBSVM Unlabeled">LIBSVM Unlabeled</a>
						</li>
						<li >
							<a href="eg/dataset/labeled_libsvm.html" title="LIBSVM Labeled">LIBSVM Labeled</a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-description">
					<blockquote><span class="color-highlight">Aloha</span> is a scala-based feature generation and modeling framework.</blockquote>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2013-2015 <a href="http://eharmony.com">eHarmony</a>. All Rights Reserved.</p>
				<p class="version-date"><span class="projectVersion">Version: 2.0.1-SNAPSHOT. </span><span class="publishDate">Last Published: 2015-08-31. </span></p>
					</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<script src=".//js/lightbox.min.js"></script>
	<script src=".//js/reflow-scroll.js"></script>
	
<script src=".//js/highlight/highlight.pack.js"></script>
	<script src=".//js/reflow-skin.js"></script>

	</body>
</html>
