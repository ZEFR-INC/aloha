
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2015-11-01
 Rendered using Reflow Maven Skin 1.1.1 (http://andriusvelykis.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>An In-Depth Walkthrough | aloha</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />
 
		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet" />
		<link href=".//css/docs.css" rel="stylesheet" />
		<link href=".//css/reflow-skin.css" rel="stylesheet" />


		<link href=".//css/lightbox.css" rel="stylesheet" />

		<link href=".//css/site.css" rel="stylesheet" />
		<link href=".//css/print.css" rel="stylesheet" media="print" />

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->


		
<link rel="stylesheet" href=".//css/highlight/github.css"/>
	</head>

	<body class="page-in_depth_walkthrough project-aloha" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="index.html"><span class="color-highlight">Aloha</span></a>
					<div class="nav-collapse collapse" id="top-nav-collapse">
						<ul class="nav pull-right">
							<li ><a href="http://github.com/eharmony/aloha/" title="Code" class="externalLink">Code</a></li>
							<li ><a href="model_formats.html" title="Model Formats">Model Formats</a></li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Dataset Examples <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="eg/dataset/csv.html" title="CSV">CSV</a></li>
									<li ><a href="eg/dataset/vw.html" title="VW Unlabeled">VW Unlabeled</a></li>
									<li ><a href="eg/dataset/labeled_vw.html" title="VW Labeled">VW Labeled</a></li>
									<li ><a href="eg/dataset/cb_vw.html" title="VW Bandit">VW Bandit</a></li>
									<li ><a href="eg/dataset/libsvm.html" title="LIBSVM Unlabeled">LIBSVM Unlabeled</a></li>
									<li ><a href="eg/dataset/labeled_libsvm.html" title="LIBSVM Labeled">LIBSVM Labeled</a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
		<hr class="toc-separator" />
		<div id="toc-bar" class="navbar" data-spy="affix" data-offset-top="40">
			<div class="navbar-inner">
				<div id="toc-scroll-target" class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#toc-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<div class="nav-collapse collapse" id="toc-nav-collapse">
						<ul id="toc" class="nav">
						<li class="toplevel"><a href="#an_in-depth_walkthrough" title="An In-Depth Walkthrough">An In-Depth Walkthrough</a></li>
						<li class="dropdown">
							<a href="#Feature" title="Feature" class="dropdown-toggle" role="button" data-toggle="dropdown" data-target="#">Feature <b class="caret"></b></a>
							<ul class="dropdown-menu" role="menu">
								<!-- Repeat the item, otherwise it is not clickable as the dropdown root -->
								<li><a href="#Feature" title="Feature">Feature</a></li>
								<li class="divider"></li>
								<li><a href="#A_Feature_Example_BMI" title="A Feature Example: BMI">A Feature Example: BMI</a></li>

							</ul>
						</li>
						<li class="dropdown">
							<a href="#Semantics" title="Semantics" class="dropdown-toggle" role="button" data-toggle="dropdown" data-target="#">Semantics <b class="caret"></b></a>
							<ul class="dropdown-menu" role="menu">
								<!-- Repeat the item, otherwise it is not clickable as the dropdown root -->
								<li><a href="#Semantics" title="Semantics">Semantics</a></li>
								<li class="divider"></li>
								<li class="dropdown-submenu">
									<a href="#Compiled_Semantics" title="Compiled Semantics">Compiled Semantics</a>
									<ul class="dropdown-menu" role="menu">
								<li><a href="#A_Note_on_the_Power_of_Imports" title="A Note on the Power of Imports">A Note on the Power of Imports</a></li>

									</ul>
								</li>
								<li class="dropdown-submenu">
									<a href="#Protobuf_Plugin" title="Protobuf Plugin">Protobuf Plugin</a>
									<ul class="dropdown-menu" role="menu">
								<li><a href="#Future_structured_input_datatypes_Aloha_may_support" title="Future structured input datatypes Aloha may support">Future structured input datatypes Aloha may support</a></li>

									</ul>
								</li>
								<li><a href="#CSV_Plugin" title="CSV Plugin">CSV Plugin</a></li>

							</ul>
						</li>
						<li class="toplevel"><a href="#Factory" title="Factory">Factory</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span12">
			<div class="body-content">
<div class="page-header">
 <h1 id="an_in-depth_walkthrough">An In-Depth Walkthrough</h1>
</div> 
<p>There are a few basic concepts that carry through all aspects of Aloha. Those are, namely, <i>features</i> and <i>semantics</i>. </p> 
<div class="section"> 
 <h2 id="Feature">Feature</h2> 
 <p>Features are the basic unit when creating dataset and model specifications. Features can be thought of as 4-tuples of the form:</p> 
 <blockquote> 
  <p>( Specification, Default, Feature Domain, Feature Codomain )</p> 
 </blockquote> 
 <ol style="list-style-type: decimal"> 
  <li>The specification (or <i>spec</i>) is the actual statement, body or definition of what the feature does.</li> 
  <li>The default is the value that a feature produces when a value can’t otherwise be produced. A default is not required when all parameters in the spec are required but is required if any of the parameters in a spec are optional (more on this later).</li> 
  <li>Feature <a class="externalLink" href="https://en.wikipedia.org/wiki/Domain_of_a_function">domain</a>.</li> 
  <li>Feature <a class="externalLink" href="https://en.wikipedia.org/wiki/Codomain">codomain</a>.</li> 
 </ol> 
 <div class="section"> 
  <h3 id="A_Feature_Example_BMI">A Feature Example: BMI</h3> 
  <p>An example of a feature is Body Mass Index (BMI) which is defined as </p> 
  <blockquote> 
   <p>BMI = 703 * (weight in lbs.) / (height in inches)<sup>2</sup></p> 
  </blockquote> 
  <p>Assuming we have a hierarchical datastructure that has a weight and height field, we could represent this as </p> 
  <div class="source"> 
   <div class="source"> 
    <pre>703 * ${weight} / pow(${height}, 2)
</pre> 
   </div> 
  </div> 
  <p>where the parameter values to be extracted are inside of the delimiters “<tt>${</tt>” and “<tt>}</tt>”. The rest of the feature is just normal <a class="externalLink" href="http://scala-lang.org">scala</a> code (with some import statements previously defined). Notice this specification is very similar to how expressions with <a class="externalLink" href="http://www.tldp.org/LDP/abs/html/parameter-substitution.html">parameter substitutions</a> are defined in <a class="externalLink" href="http://www.tldp.org/LDP/abs/html/">bash scripts</a>. In fact, default values are provided in the same way as in bash. For instance, if the <tt>weight</tt> parameter were optional and the particular value was missing, we can provide a default value as follows:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>${weight:-200}
</pre> 
   </div> 
  </div> 
  <p>Which means, like in bash, that when weight is not declared or has been declared as null, the default of <i>200</i> will be used. The difference here is that the default value has to type check with the original value. If for instance <tt>weight</tt> were a 32-bit float, then the default couldn’t be <tt>200.5</tt> (which is a 64-bit double), but would have to be <tt>200.5f</tt>.</p> 
  <p>So far, we’ve already run into a few snags. If <tt>weight</tt> was optional and the value wasn’t provided, then our expression if naively written, could produce <a class="externalLink" href="http://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html">NPEs</a>.<br />Aloha avoids these errors by treating optional values appropriately. It ensures that optional parameters are represented by <a class="externalLink" href="http://scala-lang.org/api/current/#scala.Option"><tt>scala.Option</tt></a> values.</p> 
  <blockquote> 
   <p>The key insight is that each feature can be thought of as an <a class="externalLink" href="http://adit.io/posts/2013-04-17-functors,_applicatives,_and_monads_in_pictures.html#applicatives">applicative</a> that operates over many parameters lifted into the Option context. This way, features can be written without worrying about the boring details like null values, etc.</p> 
  </blockquote> 
  <p>This insight, along with scala’s <a class="externalLink" href="https://twitter.github.io/scala_school/type-basics.html#inference">type inference</a> abilities allows us to synthesize strongly typed code without having to specify parameter types. We only need to know the input and output types and need to know how to generate the code that extracts parameter values from the input type (see plugins below). Let’s revisit our example to go into more detail. So the example above can be decomposed in the two parameters: </p> 
  <ul> 
   <li>height: required int</li> 
   <li>weight: optional float</li> 
  </ul> 
  <p>and the function of these two parameters. Let’s say that we could write scala functions to extract the height and width from the input type. For simplicity, let’s say we are working with a <tt>Map[String, Any]</tt>. Then, our functions could be written like the following: </p> 
  <div class="source"> 
   <div class="source"> 
    <pre>val weight = (x: Map[String, Any]) =&gt; x get { &quot;weight&quot; } collect { case x: Float =&gt; x }  // Optional value.
val height = (x: Map[String, Any]) =&gt; x(&quot;height&quot;).asInstanceOf[Int]                      // Required value.
</pre> 
   </div> 
  </div> 
  <p>Now let’s say that Aloha has a generic way of combining the return values of two functions (representing parameters) using a third combining function. We could easily write this as: </p> 
  <div class="source"> 
   <div class="source"> 
    <pre>/**
 * @param u a function with domain X and codomain U 
 * @param v a function with domain X and codomain V 
 * @param f a function with domain U x V and codomain Y
 * @tparam X the domain of the returned function  
 * @tparam U the first intermediate type.
 * @tparam V the second intermediate type.
 * @tparam Y the codomain of the returned function 
 * @return a function that takes a value x &amp;isin; X and return f(u(x), v(x))
 */
def functionWithTwoVariables[X, U, V, Y](u: X =&gt; U, v: X =&gt; V)(f: (U, V) =&gt; Y) = 
  (x: X) =&gt; f(u(x), v(x))
</pre> 
   </div> 
  </div> 
  <p>Then we could construct the BMI function easily from the definitions <tt>weight</tt> and <tt>height</tt> using the following: </p> 
  <div class="source"> 
   <div class="source"> 
    <pre>// functions w and h are defined above.
// Type of bmi:   Map[String,Any] =&gt; Option[Double]
val bmi = functionWithTwoVariables(weight, height)((weightOpt, height) =&gt; {
  import math.pow
  weightOpt.map { weight =&gt; 
    703 * weight / pow(height, 2)
  } 
})
</pre> 
   </div> 
  </div> 
  <p>Notice that once we defined <tt>weight</tt> and <tt>height</tt> above, we didn’t need to supply any type information. We just needed to know that the function <tt>weight</tt> returned an optional value. Also notice that the body is identical to how the feature looked in the original specification.</p> 
  <p>This begs the question, how is this possible? The answer is the <a class="externalLink" href="https://en.wikipedia.org/wiki/Semantics">semantics</a> implementation.</p> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Semantics">Semantics</h2> 
 <p>Simply put, the semantics is the thing that gives meaning to the features. It is the interpreter that takes a feature specification and a default value and turns this tuple into working functions that extract and process data.</p> 
 <p>For instance, in the BMI example used above, the semantics was responsible for turning the statement</p> 
 <div class="source"> 
  <div class="source"> 
   <pre>703 * ${weight} / pow(${height}, 2)
</pre> 
  </div> 
 </div> 
 <p>into a function with domain <tt>Map[String, Any]</tt> and codomain <tt>Option[Double]</tt>.</p> 
 <p>The semantics has additional responsibilities including knowing about the domain of the features. The API contract for semantics is rather vague. It’s up to the individual implementations of semantics to define how pluggable it wants to be. </p> 
 <div class="section"> 
  <h3 id="Compiled_Semantics">Compiled Semantics</h3> 
  <p>Aloha currently has one main type of Semantics, namely <a href="aloha-core/scaladocs/index.html#com.eharmony.aloha.semantics.compiled.CompiledSemantics">CompiledSemantics</a>. CompiledSemantics is extremely powerful because it allows:</p> 
  <ol style="list-style-type: decimal"> 
   <li>the use of any arbitrary scala code</li> 
   <li>importing code defined inside <i>OR</i> outside the Aloha library</li> 
  </ol> 
  <p>The CompiledSemantics is responsible for transforming the feature specification to a function but it delegates to a plugin for the synthesis of the code responsible for the parameter extraction. This will become clear soon, but before continuing, a brief note.</p> 
  <div class="section"> 
   <h4 id="A_Note_on_the_Power_of_Imports">A Note on the Power of Imports</h4> 
   <p>It is important to note that the ability to import is <b>extremely powerful</b>! By allowing imports, Aloha can easily be extended outside the library. Imports provide the power analogous to <a class="externalLink" href="https://en.wikipedia.org/wiki/User-defined_function">user-defined functions</a> (UDFs) in databases, but imports are actually much more powerful due to scala’s facility for <a class="externalLink" href="http://daily-scala.blogspot.com/2010/04/implicit-parameters.html">implicit parameters</a>.</p> 
   <blockquote> 
    <p>Imports can do more than just add language features. They can <i>change the meaning of the language</i>.</p> 
   </blockquote> 
   <p>Imports are specified globally in CompiledSemantics, away from where the features are specified. This is by design so that the same specifications can have different meaning in different problem domains. The consequence is that imports need to be used with caution, especially when referencing implicit language features. The following example illustrates this. </p> 
   <p>Imagine a third party developer wrote the following code </p> 
   <div class="source"> 
    <div class="source"> 
     <pre>package com.fictitious.company

object Ops {
  /**
   * @param v an explicit value
   * @param a an implicit value to add to v 
   * @param ring A type class representing an algebraic ring.
   * @tparam A the type of algebraic ring
   * @return ''v'' added to some value ''a'' in the implicit scope
   */
  def add[A](v: A)(implicit a: A, ring: Numeric[A]) = num.plus(v, a)
}

object Implicits {
  implicit val two: Int = 2 
  implicit val four: Int = 4
}
</pre> 
    </div> 
   </div> 
   <p>Let’s assume a feature specification: <tt>add(${some.value})</tt> and the parameter <tt>${some.value}</tt> has an integer value, <i>1</i>. If the imports were: </p> 
   <ul> 
    <li><tt>com.fictitious.company.Ops.add</tt></li> 
    <li><tt>com.fictitious.company.Implicits.two</tt></li> 
   </ul> 
   <p>Then the output of the feature would be <i>3</i> in this instance. If we changed the imports to </p> 
   <ul> 
    <li><tt>com.fictitious.company.Ops.add</tt></li> 
    <li><tt>com.fictitious.company.Implicits.four</tt></li> 
   </ul> 
   <p>then the <b>same feature specification</b> would yield a value of <i>5</i>. While this can be extremely useful, it can also be extremely dangerous. It is imperative to understand the imports being imported into scope.</p> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="Protobuf_Plugin">Protobuf Plugin</h3> 
  <p>Currently there are two main CompiledSemantics plugins. The first is <a href="aloha-core/scaladocs/index.html#com.eharmony.aloha.semantics.compiled.plugin.proto.CompiledSemanticsProtoPlugin">CompiledSemanticsProtoPlugin</a> located in the <tt>com.eharmony.aloha.semantics.compiled.plugin.proto</tt> package in <a href="aloha-core/index.html">aloha-core</a>. This plugin allows for arbitrary kinds of <a class="externalLink" href="https://developers.google.com/protocol-buffers/">Protocol Buffer</a> instances that extend <a class="externalLink" href="https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/GeneratedMessage">GeneratedMessage</a>.</p> 
  <p>See <a href="aloha-core/dependencies.html">dependencies</a> for the version of protocol buffers used in Aloha. At the time of this writing, Aloha uses protocol buffers 2.4.1.</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>// Scala Code: Constructing a compiled semantics protocol buffer plugin is easy.
import com.eharmony.aloha.semantics.compiled.plugin.proto.CompiledSemanticsProtoPlugin
import some.proto.defs.MyProto
val plugin = CompiledSemanticsProtoPlugin[MyProto]

// pass to compiled semantics ... (more on this later)
</pre> 
   </div> 
  </div> 
  <div class="section"> 
   <h4 id="Future_structured_input_datatypes_Aloha_may_support">Future structured input datatypes Aloha may support</h4> 
   <p>One of the niceties of Aloha is that it allows models to accept structured input in a typesafe way. Currently, this is limited to protocol buffers but we’d like to extend allow to integrate with other serialization protocols such as</p> 
   <ul> 
    <li><a class="externalLink" href="https://avro.apache.org">Avro</a></li> 
    <li><a class="externalLink" href="https://thrift.apache.org">Thrift</a></li> 
   </ul> 
   <p>To accomplish this, we’ll need to remove the current coupling with protocol buffers for the output score object. If someone wants to help with this, <i>we’d love the help!</i> See <a href="aloha-core/dependencies.html">dependencies</a> for the version of protocol buffers used in Aloha.</p> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="CSV_Plugin">CSV Plugin</h3> 
  <p>The second kind of CompiledSemantics plugin currently in use is the </p> 
  <p><a href="aloha-core/scaladocs/index.html#com.eharmony.aloha.semantics.compiled.plugin.csv.CompiledSemanticsCsvPlugin">CompiledSemanticsCsvPlugin</a> located in the <tt>com.eharmony.aloha.semantics.compiled.plugin.csv</tt> package in <a href="aloha-core/index.html">aloha-core</a>. This plugin allows the user to specify <a class="externalLink" href="https://en.wikipedia.org/wiki/Delimiter-separated_values">Delimiter-separated values</a> with lots of different underlying input types. This plugin takes string-based data and turns it into strongly typed data that can encode fields with types: </p> 
  <ul> 
   <li>Booleans</li> 
   <li>Enumerated Type Values (Categorical Variables)</li> 
   <li>32-bit and 64-bit integers</li> 
   <li>32-bit and 64-bit floating point numbers</li> 
   <li>Strings</li> 
   <li>Vectorized inputs</li> 
   <li>Optional inputs</li> 
  </ul> 
  <p>Specifying the plugin is easy. It just requires providing a column name to column type map. The types come from <a href="aloha-core/scaladocs/index.html#com.eharmony.aloha.semantics.compiled.plugin.csv.CsvTypes24">com.eharmony.aloha.semantics.compiled.plugin.csv.CsvTypes</a>.</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>// Scala Code
import com.eharmony.aloha.semantics.compiled.plugin.csv.CsvTypes.CsvType._

val plugin = CompiledSemanticsCsvPlugin(
  &quot;height&quot; -&gt; IntType
  &quot;weight&quot; -&gt; FloatOptionType
)
</pre> 
   </div> 
  </div> 
  <p>Notice that since <a href="aloha-core/scaladocs/index.html#com.eharmony.aloha.semantics.compiled.plugin.csv.CompiledSemanticsCsvPlugin">CompiledSemanticsCsvPlugin</a> extends <a href="aloha-core/scaladocs/index.html#com.eharmony.aloha.semantics.compiled.CompiledSemanticsPlugin">CompiledSemanticsPlugin</a>[<a href="aloha-core/scaladocs/index.html#com.eharmony.aloha.semantics.compiled.plugin.csv.CsvLine">CsvLine</a>], the features produced by a <a href="aloha-core/scaladocs/index.html#com.eharmony.aloha.semantics.compiled.CompiledSemantics">CompiledSemantics</a> instance parameterized by an <a href="aloha-core/scaladocs/index.html#com.eharmony.aloha.semantics.compiled.plugin.csv.CompiledSemanticsCsvPlugin">CompiledSemanticsCsvPlugin</a> operate on instances of <a href="aloha-core/scaladocs/index.html#com.eharmony.aloha.semantics.compiled.plugin.csv.CsvLine">CsvLine</a>. It is therefore necessary to produce instances of CsvLine to make use of this plugin. This is pretty easy to do though.</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>val csvLines = CsvLines(
  Map(                     // 0-based field indices
    &quot;height&quot; -&gt; 0, 
    &quot;weight&quot; -&gt; 1
  ),
  Map.empty,               // enums: Map[String, Enum] 
  &quot;\t&quot;,                    // fs (field separator) 
  &quot;,&quot;,                     // ifs (intra-field separator, for vectorized inputs)
  (s: String) =&gt; s == &quot;&quot;,  // missingData function 
  false,                   // errorOnOptMissingField 
  false                    // errorOnOptMissingEnum
)

val csvLinesWithDefaults = CsvLines(Map(&quot;height&quot; -&gt; 0, &quot;weight&quot; -&gt; 1))

require(csvLinesWithDefaults == csvLines)  // This requirement is satisfied.
</pre> 
   </div> 
  </div> 
  <p>Once in possession of a CsvLines instance, it’s easy to generate CsvLine instances: </p> 
  <div class="source"> 
   <div class="source"> 
    <pre>val oneCsvLine: CsvLineImpl = csvLines(&quot;72, 175&quot;) // height = 72 inches, weight = 175 lbs.
val manyCsvLinesUsingVarArgs: Vector[CsvLineImpl] = csvLines(&quot;72, 175&quot;, &quot;70, 180&quot;, &quot;64, 110&quot;)
val csvLineIterator: Iterator[CsvLineImpl] = csvLines(Iterator(&quot;72, 175&quot;, &quot;70, 180&quot;, &quot;64, 110&quot;))
val csvLineVector: Seq[CsvLineImpl] = csvLines(Seq(&quot;72, 175&quot;, &quot;70, 180&quot;, &quot;64, 110&quot;))
val nonStrictVectorOfCsvLine = csvLines.nonStrict(Vector(&quot;72, 175&quot;, &quot;70, 180&quot;, &quot;64, 110&quot;))
</pre> 
   </div> 
  </div> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Factory">Factory</h2> 
 <p>Factories are important to create models: </p> 
 <div class="source"> 
  <div class="source"> 
   <pre>// Scala Code
import com.eharmony.aloha.factory.ModelFactory
import com.eharmony.aloha.semantics.compiled.plugin.csv.CsvTypes.CsvType._

// vvvvv  Define the semantics  vvvvvvvvvvvvvvvvvvvvvv

// -----  Define the plugin  -------------------------
val plugin = CompiledSemanticsCsvPlugin(
  &quot;height&quot; -&gt; IntType
  &quot;weight&quot; -&gt; FloatOptionType
)

val imports = Seq(&quot;scala.math._&quot;)
val cacheDir: java.io.File = getCacheDir() // Get a place to cache features.
val semantics = CompiledSemantics(TwitterEvalCompiler(classCacheDir = Option(cacheDir), plugin, imports)
// ^^^^^  Define the semantics  ^^^^^^^^^^^^^^^^^^^^^^

// Get a typed factory.
val untypedFactory = ModelFactory.defaultFactory

val typedFactory = untypedFactory.toTypedFactory[CsvLine, Double](semantics)

val modelFile: java.io.File = ...

// type: scala.util.Try[com.eharmony.aloha.models.Model[CsvLine, Double]]
val modelAttempt = typedFactory.fromFile(modelFile)
val model = modelAttempt.get 
</pre> 
  </div> 
 </div> 
 <p>For more information on creating semantics and factories, see the <a href="creating_semantics.html">Creating Semantics</a> page.</p> 
</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Main</li>
						<li >
							<a href="./" title="Home">Home</a>
						</li>
						<li >
							<a href="http://github.com/eharmony/aloha/" title="Code" class="externalLink">Code</a>
						</li>
						<li >
							<a href="release-notes.html" title="Release notes">Release notes</a>
						</li>
						<li class="nav-header">Maven Documentation</li>
						<li >
							<a href="project-info.html" title="Project Information">Project Information <i class="icon-chevron-right"></i></a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">API Docs</li>
						<li >
							<a href="aloha-core/scaladocs/index.html" title="aloha-core">aloha-core</a>
						</li>
						<li >
							<a href="aloha-vw-jni/scaladocs/index.html" title="aloha-vw-jni">aloha-vw-jni</a>
						</li>
						<li >
							<a href="aloha-cli/scaladocs/index.html" title="aloha-cli">aloha-cli</a>
						</li>
						<li class="nav-header">Contribute</li>
						<li >
							<a href="http://github.com/eharmony/aloha/issues/" title="Issues" class="externalLink">Issues</a>
						</li>
						<li >
							<a href="http://github.com/eharmony/aloha/" title="Fork on GitHub" class="externalLink">Fork on GitHub</a>
						</li>
						<li >
							<a href="contribute.html" title="Contribute">Contribute</a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Dataset Examples</li>
						<li >
							<a href="eg/dataset/csv.html" title="CSV">CSV</a>
						</li>
						<li >
							<a href="eg/dataset/vw.html" title="VW Unlabeled">VW Unlabeled</a>
						</li>
						<li >
							<a href="eg/dataset/labeled_vw.html" title="VW Labeled">VW Labeled</a>
						</li>
						<li >
							<a href="eg/dataset/cb_vw.html" title="VW Bandit">VW Bandit</a>
						</li>
						<li >
							<a href="eg/dataset/libsvm.html" title="LIBSVM Unlabeled">LIBSVM Unlabeled</a>
						</li>
						<li >
							<a href="eg/dataset/labeled_libsvm.html" title="LIBSVM Labeled">LIBSVM Labeled</a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-description">
					<blockquote><span class="color-highlight">Aloha</span> is a scala-based feature generation and modeling framework.</blockquote>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2013-2015 <a href="http://eharmony.com">eHarmony</a>. All Rights Reserved.</p>
				<p class="version-date"><span class="projectVersion">Version: 3.0.0. </span><span class="publishDate">Last Published: 2015-11-01. </span></p>
					</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<script src=".//js/lightbox.min.js"></script>
	<script src=".//js/reflow-scroll.js"></script>
	
<script src=".//js/highlight/highlight.pack.js"></script>
	<script src=".//js/reflow-skin.js"></script>

	</body>
</html>
